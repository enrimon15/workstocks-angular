<!-- change-password -->
<div class="tab-pane active container" id="change-password">

  <div class="tr-single-box">
    <div class="tr-single-header">
      <h4><i class="lni-lock"></i> {{'dashboard.changePassword.title' | translate}}</h4>
    </div>

    <form [formGroup]="changePasswordForm" (ngSubmit)="updatePassword()">
      <div class="tr-single-body">
        <div class="form-group">
          <label>{{'dashboard.changePassword.currentPassword' | translate}}</label>
          <span (click)="showPw('OLD_PASSWORD')" [ngClass]="'fa fa-fw field-icon toggle-password ' + (showOldPw ? 'fa-eye' : 'fa-eye-slash')"></span>
          <input formControlName="oldPassword" id="password-old" class="form-control" [type]="showOldPw ? 'text' : 'password'" name="oldPassword" required>

          <!-- Error -->
          <p class="color--error mb-2" *ngIf="!changePasswordForm.get('oldPassword')?.valid && changePasswordForm.get('oldPassword')?.touched"><strong>{{'errorForm' | translate}}</strong></p>
        </div>
        <div class="form-group">
          <label>{{'dashboard.changePassword.currentPassword' | translate}}</label>
          <span (click)="showPw('NEW_PASSWORD')" [ngClass]="'fa fa-fw field-icon toggle-password ' + (showNewPw ? 'fa-eye' : 'fa-eye-slash')"></span>
          <input formControlName="newPassword" id="password-new" class="form-control" [type]="showNewPw ? 'text' : 'password'" name="newPassword" required>

          <!-- Error -->
          <p class="color--error mb-2" *ngIf="!changePasswordForm.get('newPassword')?.valid && changePasswordForm.get('newPassword')?.touched"><strong>{{'errorForm' | translate}}</strong></p>
        </div>
        <div class="form-group">
          <label>{{'dashboard.changePassword.confirmPassword' | translate}}</label>
          <span (click)="showPw('CONFIRM_PASSWORD')" [ngClass]="'fa fa-fw field-icon toggle-password ' + (showConfirmPw ? 'fa-eye' : 'fa-eye-slash')"></span>
          <input formControlName="confirmPassword" id="password-confirm" class="form-control" [type]="showConfirmPw ? 'text' : 'password'" name="confirmPassword" required>
          <!-- Error -->
          <p class="color--error mb-2" *ngIf="!changePasswordForm.get('confirmPassword')?.valid && changePasswordForm.get('confirmPassword')?.touched"><strong>{{'errorForm' | translate}}</strong></p>
          <p class="color--error mb-2" *ngIf="changePasswordForm?.errors?.['confirmPasswordMatchError'] && changePasswordForm.get('confirmPassword')?.touched"><strong>{{'auth.passwordDoesNotMatch' | translate}}</strong></p>
        </div>
      </div>

      <button *ngIf="!loading" [disabled]="!changePasswordForm.valid || changePasswordForm.pending" type="submit" class="btn btn-info btn-md full-width">{{'dashboard.changePassword.buttonSave' | translate}}<i class="ml-2 ti-arrow-right"></i></button>
      <div *ngIf="loading" class="row">
        <div class="spinner-border text-success mx-auto" role="status"><span class="sr-only">Loading...</span></div>
      </div>
    </form>

  </div>

</div>
